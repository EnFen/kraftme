<p>
  <strong>Product title:</strong>
  <%= @product.product_title %>
</p>

<p>
  <strong>Description:</strong>
  <%= @product.description %>
</p>

<p>
  <% if @product.image.attached? %>
  <%= cl_image_tag(@product.image.key) %>
  <% end %>
</p>

<p>
  <strong>Price:</strong>
  <%= @product.price %>
</p>

<p>
  <strong>Medium:</strong>
  <%= @product.medium %>
</p>

<p>
  <strong>Quantity:</strong>
  <%= @product.quantity %>
</p>

<p>
  <strong>Creator:</strong>
  <%= @product.creator %>
</p>

<p>
  <strong>User:</strong>
  <%= @product.user.username %>
</p>


<%# form tag helper going to charges path %>
<%= form_tag charges_path do %>
 <article>
   <% if flash[:error].present? %>
     <div id="error_explanation">
       <p><%= flash[:error] %></p>
     </div>
   <% end %>
 </article>
<%# code block for stripe payments added purchase lable %>
 <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
         data-key="<%= Rails.configuration.stripe[:publishable_key] %>"
         data-description= "<%= @product.product_title %>"
         data-amount="<%= @product.price_in_cents %>"
         data-currency="aud"
         data-label="Purchase!"
         data-locale="auto"></script>
<% end %>

<%# validates only user who created product or admin can edit %>
<% if @product.can_change?(current_user) %>
<%= link_to 'Edit', edit_product_path(@product) %> |
<% end %>
<%= link_to 'Back', products_path %>
